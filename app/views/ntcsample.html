<div  ng-controller="SampleController">

    <div class="row wrapper border-bottom white-bg page-heading">

        <div class="col-lg-10">
            <h2>IR NTC Control Variant Report</h2>

            <ol class="breadcrumb">
                <li>
                    <a ui-sref="dashboard">Dashboard</a>
                </li>
                <li class="active">
                    <!--<a ui-sref="iradmin"> IR Reporters</a>-->
                    <a ui-sref="iradmin({ branch: branch})">IR Reporters ({{branch}})</a>
                </li>
                <li class="active">
                    <strong>IR NTC Control Variant Report ({{sid}})</strong>
                </li>
            </ol>
        </div>
    </div>



    <div class="wrapper" ng-controller="NtcController">


        <div class="no-horizontal-padding header-box-container">

            <div class="row">

                <!--CHARTS-->
                <div class="row border-bottom white-bg dashboard-header animated fadeInRight">

                    <div class="wrapper">
                        <div class="col-lg-12">
                            <div class="ibox float-e-margins">
                                <div class="ibox-content">

                                    <!--{{branch}}-->

                                    <div class="panel-default"  ng-init="loadSampleBreakups()">

                                        <div class="col-lg-12 pull-left">

                                            <div class="ibox float-e-margins">
                                                <div class="col-xs-12 cols-height">

                                                    <!--PIE CHART-->
                                                    <div class="col-xs-2 cols-height cols-bottom">

                                                        <div class="panel" ng-init="loadPieChart();">
                                                            <canvas id="pieCanvas" piechart
                                                                    ng-attr-data="pieData" responsive=true width="600" height="600"
                                                                    style="width: 603px; height: 601px; border-bottom: thin dimgrey solid; border-top: thin dimgrey solid;"></canvas>
                                                        </div>


                                                        <div class="tabs-container">
                                                            <div >

                                                                <table class="table" role="grid" style="font-size: 10px" width="100%">
                                                                    <thead>
                                                                    <tr style="font-size: smaller">
                                                                        <th >Positive Control</th>
                                                                        <th >No Template Control</th>
                                                                        <th >No Template Control</th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <td>88 <div class="stat-percent font-bold text-success"> 98% <i class="fa fa-bolt"></i></div></td>
                                                                    <td>42 <div class="stat-percent font-bold text-info"> 20% <i class="fa fa-level-up"></i></div></td>
                                                                    <td>12 <div class="stat-percent font-bold text-info"> 20% <i class="fa fa-level-up"></i></div></td>
                                                                    </tbody>
                                                                </table>

                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!--PIE CHART-->

                                                    <!--HISTOGRAM CHART-->
                                                    <div class="col-xs-7 cols-height cols-bottom" >
                                                        <canvas id="mainSampleCanvas" barchart options="chart.barOptions" ng-attr-data="barData"
                                                                responsive=true width="500" height="200"  style="width: 503px; height: 201px;"></canvas>
                                                    </div>
                                                    <!--HISTOGRAM CHART-->

                                                    <!--SPOT TABS-->
                                                    <div class="col-xs-3">

                                                        <div class="header-info-box top-main-header-box" style="border:none" >

                                                            <dl class="dl-horizontal">

                                                                <dt>Molecular ID</dt>
                                                                <dd>{{sid}}</dd>

                                                                <dt>Analysis ID</dt>
                                                                <dd>Ntc-Job3</dd>

                                                                <dt>Total Variants</dt>
                                                                <dd>18</dd>

                                                                <dt>MAPD</dt>
                                                                <dd> 0.258 </dd>

                                                                <dt> Cellularity</dt>
                                                                <dd> 1.00102 </dd>

                                                                <dt style="width: 200px;text-align: left">Torrent Variant Caller Version</dt>
                                                                <dd>tvc 4.4-8 </dd>

                                                                <dt>Status</dt>
                                                                <dd>PASSED</dd>

                                                                <dt>Comment</dt>
                                                                <dd>Testing passing a failed NTC Sample Control.</dd>

                                                                <dt>Files</dt>
                                                                <dd>
                                                                    <table><tr><td>
                                                                        <a href="https://matchbox.nci.nih.gov:8443/match/common/rs/getSampleControlFile/IonXpress_087_rawlib.bam?molecularSequenceNumber={{sampleId}}"
                                                                           class="btn btn-xs btn-white file-button-xs">DNA BAM</a>
                                                                    </td><td>
                                                                        <a href="https://matchbox.nci.nih.gov:8443/match/common/rs/getSampleControlFile/IonXpress_087_rawlib.bam.bai?molecularSequenceNumber={{sampleId}}"
                                                                           class="btn btn-xs btn-white file-button-xs">DNA BAI</a>
                                                                    </td><td>
                                                                        <a href="https://matchbox.nci.nih.gov:8443/match/common/rs/getSampleControlFile/SampleControl_MoCha_1_v1_all-matched.vcf?molecularSequenceNumber={{sampleId}}"
                                                                           class="btn btn-xs btn-white file-button-xs">VCF</a>
                                                                    </td></tr><tr><td>
                                                                        <a href="https://matchbox.nci.nih.gov:8443/match/common/rs/getSampleControlFile/IonXpress_088_rawlib.bam.bai?molecularSequenceNumber={{sampleId}}"
                                                                           class="btn btn-xs btn-white file-button-xs">RNA BAI</a>
                                                                    </td><td>
                                                                        <a href="https://matchbox.nci.nih.gov:8443/match/common/rs/getSampleControlFile/IonXpress_088_rawlib.bam?molecularSequenceNumber={{sampleId}}"
                                                                           class="btn btn-xs btn-white file-button-xs">RNA BAM</a>
                                                                    </td><td>
                                                                        <a href="#" class="btn btn-xs btn-white file-button-xs">All (Zip)</a>
                                                                    </td></tr></table>
                                                                </dd>

                                                                <dt>Quality Control Report</dt>
                                                                <dd>
                                                                    <a ui-sref="ntc_quality_control({ sampleId:sid })" class="btn btn-xs btn-success file-button-xl">
                                                                        <i class="fa fa-bar-chart"></i>&nbsp;&nbsp;
                                                                        <span class="bold">Quality Control Report</span>
                                                                    </a>
                                                                </dd>
                                                            </dl>


                                                        </div>
                                                    </div>
                                                    <!--SPOT TABS-->

                                                </div>
                                            </div>

                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <!--CHARTS-->




                <div class="col-lg-14">
                    <div class="ibox float-e-margins">
                        <div class="ibox-content">

                            <div class="tabs-container" ng-init="loadNtcUnfilteredReportList();loadSnvCharts()">

                                <uib-tabset>

                                    <uib-tab heading="Single Nucleotide Variant(s) " ng-click="loadSnvCharts()">

                                        <div class="col-lg-16" >
                                            <div class="ibox float-e-margins">
                                                <div class="col-lg-16" >
                                                    <div class="ibox-content">
                                                        <div class="ibox-title ibox-title-no-line pull">
                                                            <h3>Single Nucleotide Variant(s)</h3>
                                                        </div>

                                                        <table class="table" role="grid">
                                                            <thead>
                                                            <tr>
                                                                <th >Id</th>
                                                                <th >Chrom</th>
                                                                <th >Position</th>
                                                                <th >Reference </th>
                                                                <th >Alternative</th>
                                                                <th >Allele Freq</th>
                                                                <th >Func Gene</th>
                                                                <th >Variant Type</th>
                                                                <th >Oncomine Variant Class</th>
                                                                <th >Function</th>
                                                                <th >HGVS</th>
                                                                <th >Read Depth</th>
                                                                <th >Transcript</th>
                                                                <th >Protein</th>
                                                            </tr>
                                                            </thead>
                                                            <tbody>
                                                            <tr ng-repeat="sample in singleNucleotideVariantsList">
                                                                <td>
                                                                    <a class="report-link" href ng-click="openCosmicId( sample.identifier )">
                                                                    {{sample.identifier || '-' }}
                                                                    </a>
                                                                </td>
                                                                <td>{{sample.chromosome || '-' }}</td>
                                                                <td>{{sample.position || '-' }}</td>
                                                                <td>{{sample.reference || '-' }}</td>
                                                                <td>{{sample.alternative || '-' }}</td>
                                                                <td>{{sample.alleleFrequency || '-' }}</td>
                                                                <td>{{sample.geneName || '-' }}</td>
                                                                <td>{{sample.type || '-' }}</td>
                                                                <td>{{sample.oncominevariantclass || '-' }}</td>
                                                                <td>{{sample.function || '-' }}</td>
                                                                <td>{{sample.hgvs || '-' }}</td>
                                                                <td>{{sample.readDepth || '-' }}</td>
                                                                <td>{{sample.transcript || '-' }}</td>
                                                                <td>{{sample.protein || '-' }}</td>
                                                            </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </uib-tab>

                                    <uib-tab heading="Indel(s) " ng-click="loadIndelCharts()">


                                        <div class="col-lg-16" >
                                            <div class="ibox float-e-margins">
                                                <div class="col-lg-16" >
                                                    <div class="ibox-content">
                                                        <div class="ibox-title ibox-title-no-line pull">
                                                            <h3>Indel(s)</h3>
                                                        </div>

                                                        <table class="table" role="grid">
                                                            <thead>
                                                            <tr>
                                                                <th >Id</th>
                                                                <th >Chrom</th>
                                                                <th >Position</th>
                                                                <th >Reference </th>
                                                                <th >Alternative</th>
                                                                <th >Allele Freq</th>
                                                                <th >Func Gene</th>
                                                                <th >Variant Type</th>
                                                                <th >Oncomine Variant Class</th>
                                                                <th >Function</th>
                                                                <th >HGVS</th>
                                                                <th >Read Depth</th>
                                                                <th >Transcript</th>
                                                                <th >Protein</th>
                                                            </tr>
                                                            </thead>
                                                            <tbody>
                                                            <tr ng-repeat="sample in indelsList">
                                                                <td>{{sample.identifier || '-' }}</td>
                                                                <td>{{sample.chromosome || '-' }}</td>
                                                                <td>{{sample.position || '-' }}</td>
                                                                <td>{{sample.reference || '-' }}</td>
                                                                <td>{{sample.alternative || '-' }}</td>
                                                                <td>{{sample.alleleFrequency || '-' }}</td>
                                                                <td>{{sample.geneName || '-' }}</td>
                                                                <td>{{sample.type || '-' }}</td>
                                                                <td>{{sample.oncominevariantclass || '-' }}</td>
                                                                <td>{{sample.function || '-' }}</td>
                                                                <td>{{sample.hgvs || '-' }}</td>
                                                                <td>{{sample.readDepth || '-' }}</td>
                                                                <td>{{sample.transcript || '-' }}</td>
                                                                <td>{{sample.protein || '-' }}</td>
                                                            </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </uib-tab>

                                    <uib-tab heading="Copy Number Variant(s) " ng-click="loadCnvCharts()">


                                        <div class="col-lg-16" >
                                            <div class="ibox float-e-margins">
                                                <div class="col-lg-16" >
                                                    <div class="ibox-content">
                                                        <div class="ibox-title ibox-title-no-line pull">
                                                            <h3>Copy Number Variant(s)</h3>
                                                        </div>

                                                        <table class="table" role="grid">
                                                            <thead>
                                                            <tr>
                                                                <th >Id</th>
                                                                <th >Chrom</th>
                                                                <th >Position</th>
                                                                <th >Reference </th>
                                                                <th >Alternative</th>
                                                                <th >Allele Freq</th>
                                                                <th >Func Gene</th>
                                                                <th >Variant Type</th>
                                                                <th >Oncomine Variant Class</th>
                                                                <th >Function</th>
                                                                <th >HGVS</th>
                                                                <th >Read Depth</th>
                                                                <th >Transcript</th>
                                                                <th >Protein</th>
                                                            </tr>
                                                            </thead>
                                                            <tbody>
                                                            <tr ng-repeat="sample in copyNumberVariantsList">
                                                                <td>{{sample.identifier || '-' }}</td>
                                                                <td>{{sample.chromosome || '-' }}</td>
                                                                <td>{{sample.position || '-' }}</td>
                                                                <td>{{sample.reference || '-' }}</td>
                                                                <td>{{sample.alternative || '-' }}</td>
                                                                <td>{{sample.alleleFrequency || '-' }}</td>
                                                                <td>{{sample.geneName || '-' }}</td>
                                                                <td>{{sample.type || '-' }}</td>
                                                                <td>{{sample.oncominevariantclass || '-' }}</td>
                                                                <td>{{sample.function || '-' }}</td>
                                                                <td>{{sample.hgvs || '-' }}</td>
                                                                <td>{{sample.readDepth || '-' }}</td>
                                                                <td>{{sample.transcript || '-' }}</td>
                                                                <td>{{sample.protein || '-' }}</td>
                                                            </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </uib-tab>

                                    <uib-tab heading="Gene Fusion(s) " ng-click="loadGeneCharts()">


                                        <div class="col-lg-16" >
                                            <div class="ibox float-e-margins">
                                                <div class="col-lg-16" >
                                                    <div class="ibox-content">
                                                        <div class="ibox-title ibox-title-no-line pull">
                                                            <h3>Gene Fusion(s)</h3>
                                                        </div>

                                                        <table class="table" role="grid">
                                                            <thead>
                                                            <tr>
                                                                <th >Id</th>
                                                                <th >Driver Gene</th>
                                                                <th >Driver Count</th>
                                                                <th >Partner Gene </th>
                                                                <th >Annotation</th>

                                                            </tr>
                                                            </thead>
                                                            <tbody>
                                                            <tr ng-repeat="sample in geneFusionsList">

                                                                <td>{{sample.identifier || '-' }}</td>
                                                                <td>{{sample.geneName || '-' }}</td>
                                                                <td>{{sample.gene || '-' }}</td>
                                                                <td>{{sample.flowAlternativeAlleleObservationCount || '-' }}</td>
                                                                <td>{{sample.alternativeAlleleObservationCount || '-' }}</td>

                                                                <!--Original-->
                                                                <!--<td>{{sample.identifier || '-' }}</td>-->
                                                                <!--<td>{{sample.driverGene || '-' }}</td>-->
                                                                <!--<td>{{sample.partnerGene || '-' }}</td>-->
                                                                <!--<td>{{sample.driverReadCount || '-' }}</td>-->
                                                                <!--<td>{{sample.partnerReadCount || '-' }}</td>-->

                                                            </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </uib-tab>

                                    </uib-tabset>

                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>


    </div>
</div>