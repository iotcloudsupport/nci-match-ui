<div ng-controller="IrAdminController">

    <div class="row wrapper border-bottom white-bg page-heading">
        <div class="col-lg-10">
            <h2>IR Reporters</h2>
            <ol class="breadcrumb">
                <li>
                    <a ui-sref="dashboard">Dashboard</a>
                </li>
                <li class="active">
                    <strong>IR Reporters ( {{branch}} )</strong>
                </li>
            </ol>
        </div>
    </div>

    <div class="wrapper">

    <div class="no-horizontal-padding header-box-container">
        <div class="row border-bottom white-bg dashboard-header animated fadeInRight">

            <div class="wrapper">
                <div class="col-lg-12">
                    <div class="ibox float-e-margins">

                        <div class="panel-default"  ng-init="loadScatterPlot()">

                            <div class="col-lg-12 pull-left">

                                <!--[{"text":"MSN-000078","value":"Msn1"},{"text":"MSN-000079","value":"Msn2"},{"text":"MSN-000082","value":"Msn3"}]-->

                                <!--SELECT SITE-->
                                <div class="ibox-title ibox-title-no-line" ng-init="loadSampleControlsList()">
                                    <h2>
                                        <div  data-ng-model="tokenIpAddress" dropdown-select="tokenIpAddress" dropdown-item-label="siteName">
                                        </div>

                                    </h2>
                                </div>
                                <!--SELECT SITE-->

                                <div class="ibox float-e-margins">
                                        <div class="col-xs-12 cols-height" ng-init="loadSampleBreakups();">

                                            <!--PIE CHART-->
                                            <div class="col-xs-2 cols-height cols-bottom">

                                                <!--<div class="panel" id="D3BoxPanel">-->
                                                        <!--<svg id="pieBox" version="1.1" preserveAspectRatio="xMinYMin meet" class="svg-content"></svg>-->
                                                <!--</div>-->


                                                <!--<div class="col-sm-3" ng-init="loadPieChart();">-->
                                                    <div class="panel" ng-init="loadPieChart(branch);">
                                                        <canvas id="amoiCanvas" piechart
                                                                ng-attr-data="pieData" responsive=true width="600" height="600"
                                                                style="width: 603px; height: 601px; border-bottom: thin dimgrey solid; border-top: thin dimgrey solid;"></canvas>
                                                    </div>
                                                <!--</div>-->






                                                <div class="tabs-container">
                                                    <div >

                                                        <table class="table table-hover" role="grid" width="100%">
                                                            <thead>
                                                            <tr style="font-size: smaller">
                                                                <th >Positive Control</th>
                                                                <th >No Template Control</th>
                                                                <th >No Template Control</th>
                                                            </tr>
                                                            </thead>
                                                            <tbody>
                                                            <td>88 <div class="stat-percent font-bold text-success"> 98% <i class="fa fa-bolt"></i></div></td>
                                                            <td>42 <div class="stat-percent font-bold text-info"> 20% <i class="fa fa-level-up"></i></div></td>
                                                            <td>12 <div class="stat-percent font-bold text-info"> 20% <i class="fa fa-level-up"></i></div></td>
                                                            </tbody>
                                                        </table>

                                                    </div>
                                                </div>
                                             </div>
                                            <!--PIE CHART-->

                                            <!--HISTOGRAM CHART-->
                                            <!--<div class="col-xs-7 cols-height cols-bottom">-->

                                                <!--&lt;!&ndash;<div class="panel panel-default" id="D3BoxPanel">&ndash;&gt;-->
                                                <!--<div class="panel" id="D3BoxPanel">-->
                                                    <!--<svg id="scatterBox" version="1.1" preserveAspectRatio="xMinYMin meet" class="svg-content"></svg>-->
                                                <!--</div>-->

                                            <!--</div>-->




                                            <div class="col-sm-7" >
                                                <div class="statistic-box">
                                                    <div class="text-center">
                                                        <h4>Sample Control Breakup </h4>
                                                    </div>

                                                    <!--<canvas id="irSampleCanvas"-->
                                                            <!--height="500"-->
                                                            <!--width="500"-->
                                                            <!--class="chart chart-bar"-->
                                                            <!--chart-data="dataChart"-->
                                                            <!--chart-labels="labels"-->
                                                            <!--chart-click="onClick"-->
                                                            <!--chart-options="options">-->
                                                    <!--</canvas>-->


                                                    <canvas id="irSampleCanvas" barchart options="chart.barOptions" ng-attr-data="barData"
                                                            responsive=true width="500" height="200"  style="width: 503px; height: 201px;"></canvas>
                                                </div>
                                            </div>

                                            <!--HISTOGRAM CHART-->


                                            <div class="col-xs-3">

                                                <!--HEART BEAT-->
                                                <div class="tabs-container">
                                                    <i class="fa fa-clock-o fa-2x" style=";color:green;font-size: small"> Heartbeat</i>
                                                    <span class="label label-warning pull-right">{{branch}}</span>

                                                    <div ng-init="loadHeartMoChaBeatList()" >

                                                        <table class="table table-hover" role="grid" width="100%">
                                                            <thead>
                                                            <tr style="font-size: smaller">
                                                                <th >IP Address</th>
                                                                <th >Internal IP Address</th>
                                                            </tr>
                                                            </thead>
                                                            <tbody ng-repeat="ir in moChaList">
                                                            <td>88 <div class="stat-percent font-bold text-success"> {{ ir.externalIpAddress }} <i class="fa fa-bolt"></i></div></td>
                                                            <td>42 <div class="stat-percent font-bold text-info"> {{ ir.ipAddress }} <i class="fa fa-level-up"></i></div></td>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>




                                                <!--SPOT TAGS-->
                                                <div class="tabs-container">
                                                    <div >
                                                        <i class="fa fa-filter fa-2x" style=";color:purple;font-size: small"> Sample Controls</i>
                                                        <table class="table table-hover" role="grid" width="100%">
                                                            <thead>
                                                                <tr style="font-size: smaller">
                                                                    <th >Positive Control</th>
                                                                    <th >No Template Control</th>
                                                                    <th >No Template Control</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                            <td>88 <div class="stat-percent font-bold text-success"> 98% <i class="fa fa-bolt"></i></div></td>
                                                            <td>42 <div class="stat-percent font-bold text-info"> 20% <i class="fa fa-level-up"></i></div></td>
                                                            <td>12 <div class="stat-percent font-bold text-info"> 20% <i class="fa fa-level-up"></i></div></td>
                                                            </tbody>
                                                            </table>

                                                        </div>
                                                </div>
                                                <!--SPOT TAGS-->

                                                <!--SPOT TAGS-->
                                                <div class="tabs-container">
                                                    <div >
                                                        <i class="fa fa-flag fa-2x" style=";color:darkred;font-size: small"> MSN Completed</i>
                                                        <table class="table table-hover" role="grid" width="100%">
                                                            <thead>
                                                            <tr style="font-size: smaller">
                                                                <th >Generated Molecular Sequences</th>
                                                                <th >Ir Reported Sequences</th>
                                                                <th >Failed Generated</th>
                                                            </tr>
                                                            </thead>
                                                            <tbody>
                                                            <td>1020 <div class="stat-percent font-bold text-success"> 74% <i class="fa fa-bolt"></i></div></td>
                                                            <td>1001 <div class="stat-percent font-bold text-info"> 98% <i class="fa fa-level-up"></i></div></td>
                                                            <td>54 <div class="stat-percent font-bold text-info"> 11% <i class="fa fa-level-up"></i></div></td>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>

                    </div>
                </div>
            </div>

        </div>

    <div class="animated fadeInRight">
        <div class="row">
            <div class="col-lg-12">
                <div class="wrapper wrapper-content">
                    <div class="row">
                        <div class="row wrapper border-bottom white-bg page-heading">

                        <!--MOCHA GENERATOR-->
                        <div class="wrapper" ng-if="branch === 'mocha'">

                        <div class="no-horizontal-padding header-box-container">
                        <div class="tabs-container">
                            <div >

                                <a ng-click="showPositiveControlConfirmation('MoCha')" class="btn btn-xs btn-primary file-button-xl pull-right">
                                    <!--<i class="fa fa-bar-chart"></i>&nbsp;&nbsp;-->
                                    <span class="bold">Generate MSN</span>
                                </a>

                                <div class="row">
                                    <div class="col-xs-3">
                                        <h6>Positive Sample Controls - {{branch}}</h6>
                                    </div>
                                </div>

                                <table class="table table-hover" role="grid" width="100%"
                                       datatable="ng" dt-options="dtOptions"
                                       dt-column-defs="dtColumnDefs"
                                       dt-instance="dtInstance">
                                    <thead>
                                    <tr>
                                        <th >Molecular Sequence Number</th>
                                        <th >Variant Reports</th>
                                        <th >Date Created</th>
                                        <th >Date Received</th>
                                        <th >Status</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="sample in positiveListMocha">
                                        <td>{{sample.sampleSite}}</td>
                                        <td >
                                            <a ng-if="!sample.sampleId"> - </a>
                                            <a ng-if="sample.sampleId" ui-sref="ngsample({ sampleId: sample.sampleMsn})">
                                                {{ sample.sampleMsn || '-' }}
                                            </a>
                                        </td>
                                        <td>{{sample.dateCreated | gmt }}</td>
                                        <td>{{sample.dateReceived | gmt }}</td>
                                        <td ng-style="{'color':'{{ sample.status | irsample }}'}">
                                            {{sample.status}}
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>

                                <!--[{"sampleSite":"MDACC","sampleId":"MDACC_1","sampleMsn":"SampleControl_MDACC_1","dateCreated":1465391653151,"dateReceived":1465391697916,"status":"PASSED"}]-->

                                <a ng-click="showNoTemplateControlConfirmation('MoCha')" class="btn btn-xs btn-primary file-button-xl pull-right">
                                    <!--<i class="fa fa-bar-chart"></i>&nbsp;&nbsp;-->
                                    <span class="bold">Generate MSN</span>
                                </a>

                                <div class="row">
                                    <div class="col-xs-3">
                                        <h6>No Template Control - {{branch}}</h6>
                                    </div>
                                </div>

                                <table class="table table-hover" role="grid" width="100%"
                                       datatable="ng" dt-options="dtOptions"
                                       dt-column-defs="dtColumnDefs"
                                       dt-instance="dtInstance">

                                    <thead>
                                    <tr>
                                        <th >Molecular Sequence Number</th>
                                        <th >Variant Reports</th>
                                        <th >Date Created</th>
                                        <th >Date Received</th>
                                        <th >Status</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="sample in negativeListMocha">
                                        <td>{{sample.sampleMsn}}</td>
                                        <td>
                                            <a ng-if="!sample.dateReceived"> - </a>
                                            <a ng-if="sample.dateReceived" ui-sref="ntcsample({ sampleId: sample.sampleMsn})">
                                                {{ sample.sampleMsn || '-' }}
                                            </a>
                                        </td>
                                        <td>{{sample.dateCreated | gmt }}</td>
                                        <td>{{sample.dateReceived | gmt }}</td>
                                        <td ng-style="{'color':'{{ sample.status | irsample }}'}">
                                            {{sample.status}}
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        </div>

                        </div>


                        <!--MDACC GENERATOR-->
                        <div class="wrapper" ng-if="branch === 'mdacc'">

                            <div class="no-horizontal-padding header-box-container">
                            <div class="tabs-container">
                                <div >

                                    <a ng-click="showPositiveControlConfirmation('MoCha')" class="btn btn-xs btn-primary file-button-xl pull-right">
                                    <!--<i class="fa fa-bar-chart"></i>&nbsp;&nbsp;-->
                                    <span class="bold">Generate MSN</span>
                                    </a>

                                    <div class="row">
                                    <div class="col-xs-3">
                                        <h6>Positive Sample Controls - MD Anderson</h6>
                                    </div>
                                    </div>

                                    <table
                                        class="table table-hover" role="grid" width="100%">
                                    <thead>
                                    <tr>
                                        <th >Molecular Sequence Number</th>
                                        <th >Variant Reports</th>
                                        <th >Date Created</th>
                                        <th >Date Received</th>
                                        <th >Status</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="sample in positiveListMDCC">
                                        <td>{{sample.sampleSite}}</td>
                                        <td >
                                            <a ng-if="!sample.sampleId"> - </a>
                                            <a ng-if="sample.sampleId" ui-sref="ngsample({ sampleId: sample.sampleMsn})">
                                                {{ sample.sampleMsn || '-' }}
                                            </a>
                                        </td>
                                        <td>{{sample.dateCreated | gmt }}</td>
                                        <td>{{sample.dateReceived | gmt }}</td>
                                        <td ng-style="{'color':'{{ sample.status | irsample }}'}">
                                            {{sample.status}}
                                        </td>
                                    </tr>
                                    </tbody>
                                    </table>

                                    <!--[{"sampleSite":"MDACC","sampleId":"MDACC_1","sampleMsn":"SampleControl_MDACC_1","dateCreated":1465391653151,"dateReceived":1465391697916,"status":"PASSED"}]-->

                                    <a ng-click="showNoTemplateControlConfirmation('MoCha')" class="btn btn-xs btn-primary file-button-xl pull-right">
                                    <!--<i class="fa fa-bar-chart"></i>&nbsp;&nbsp;-->
                                    <span class="bold">Generate MSN</span>
                                    </a>

                                    <div class="row">
                                    <div class="col-xs-3">
                                        <h6>No Template Control - MD Anderson</h6>
                                    </div>
                                    </div>

                                    <table class="table table-hover" role="grid" width="100%"
                                       datatable="ng" dt-options="dtOptions"
                                       dt-column-defs="dtColumnDefs"
                                       dt-instance="dtInstance">

                                    <thead>
                                    <tr>
                                        <th >Molecular Sequence Number</th>
                                        <th >Variant Reports</th>
                                        <th >Date Created</th>
                                        <th >Date Received</th>
                                        <th >Status</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="sample in negativeListMDCC">
                                        <td>{{sample.sampleMsn}}</td>
                                        <td>
                                            <a ng-if="!sample.dateReceived"> - </a>
                                            <a ng-if="sample.dateReceived" ui-sref="ntcsample({ sampleId: sample.sampleMsn})">
                                                {{ sample.sampleMsn || '-' }}
                                            </a>
                                        </td>
                                        <td>{{sample.dateCreated | gmt }}</td>
                                        <td>{{sample.dateReceived | gmt }}</td>
                                        <td ng-style="{'color':'{{ sample.status | irsample }}'}">
                                            {{sample.status}}
                                        </td>
                                    </tr>
                                    </tbody>
                                    </table>
                                </div>
                            </div>
                            </div>

                        </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    </div>

    </div>



</div>
